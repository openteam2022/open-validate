var validater=function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function t(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?r(Object(s),!0).forEach((function(r){t(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var o,u=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return r=t,o=[{key:"addRule",value:function(e){if("string"!=typeof e.name||"function"!=typeof e.handle)return!1;var r={};r[e.name]=e.handle,t.rules=n(n({},t.rules),r)}},{key:"test",value:function(e,r){return new Promise((function(n,s){i.call(t,e).then((function(s){if(s.status){var o=e.value,u=e.rules,a={status:!0,name:e.name||"",message:""},i=!0;for(var c in u)if(t.rules[c](o)||(a.status=!1,a.message=u[c],i=!1),!i){if(item.error&&"[object Object]"==Object.prototype.toString.call(item.error)){if(item.error.message){var l=document.querySelector(item.error.message.id);l&&(l.innerText=a.message),l&&item.error.message.styles&&(l.style.cssText=item.error.message.styles)}if(item.error.input){var f=document.querySelector(item.error.input.id);f&&(f.innerText=a.message),f&&item.error.input.styles&&(f.style.cssText=item.error.input.styles)}}"function"==typeof r&&r(a),n(a)}}}))}))}},{key:"tests",value:function(e,r){return new Promise((function(n,s){e.forEach((function(e){var s=e.value,o=e.rules,u={status:!0,name:e.name||"",message:""},a=!0;for(var i in o)if(t.rules[i](s)||(u.status=!1,u.message=o[i],a=!1),!a){if(e.error&&"[object Object]"==Object.prototype.toString.call(e.error)){if(e.error.message){var c=document.querySelector(e.error.message.id);c&&(c.innerText=u.message),c&&e.error.message.styles&&(c.style.cssText=e.error.message.styles)}if(e.error.input){var l=document.querySelector(e.error.input.id);l&&(l.innerText=u.message),l&&e.error.input.styles&&(l.style.cssText=e.error.input.styles)}}"function"==typeof r&&r(u),n(u)}}))}))}},{key:"onReset",value:function(){}}],(s=null)&&e(r.prototype,s),o&&e(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s,o}();function a(e){return!!e}function i(e){return new Promise((function(t,r){var n=c.call(o,e,"验证规则参数必须是object,当前参数类型不正确");n.status||t(n),"string"==typeof e.name&&c.call(o,e.rules).status||t({result:!1,message:"验证规则对象必须包含name属性和rules属性"}),t({status:!0})}))}function c(e,t,r){var n={status:!0,message:r};return"[object Object]"==Object.prototype.toString.call(e)||(n.status=!1),n}return o=u,t(u,"name","validater"),t(u,"author","kaijian"),t(u,"version","v1.0.0-beta"),t(u,"description","基于js开发的表达验证插件"),t(u,"date","2024-06-12"),t(u,"rules",{required:function(e){var t=""==e||null==e||null==e;return!a.call(o,t)},phone:function(e){return a.call(o,/^1(3[0-9]|4[01456879]|5[0-35-9]|6[2567]|7[0-8]|8[0-9]|9[0-35-9])\d{8}$/.test(e))},http:function(e){return a.call(o,/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/.test(e))},email:function(e){return a.call(o,/^\w+([  -+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g.test(e))},string:function(e){return a.call(o,/^[\u4e00-\u9fa5]*$/.test(e))},strEng:function(e){return a.call(o,/^[\u4e00-\u9fa5a-zA-Z]*$/.test(e))},strEngInt:function(e){return a.call(o,/^[\u4e00-\u9fa5a-zA-Z0-9]*$/.test(e))},engAndInt:function(e){return a.call(o,/^[a-zA-Z0-9]*$/.test(e))},engInt:function(e){return a.call(o,/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/.test(e))},tel:function(e){return a.call(o,/^\d{3}-\d{8}|\d{4}-\d{7,8}/.test(e))},symbol:function(e){return a.call(o,/[`~!@#$^&*()《》=|{}':;',\\\[\]\.<>\/?~！@#￥……&*（）——|{}【】'；：""'。，、？\s]/g.test(e))},password:function(e){return a.call(o,/^(?=.*\d)(?=.*[a-zA-Z])(?=.*[~!@#$%^&*])[\da-zA-Z~!@#$%^&*]{8,16}$/.test(e))},text:function(e){return a.call(o,/^[\u4e00-\u9fa5a-zA-Z0-9,.!?:，。？！]*$/.test(e))},int:function(e){return a.call(o,/^[0-9]*$/g.test(e))}}),u}();
//# sourceMappingURL=open-validater.bundle.min.js.map
